<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Hotel Rosewood.inn ‚Äî Guest Services</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg: #ffffff;
  --card: #ffffff;
  --muted: #666b75;
  --gold: #b8972e;   /* primary gold */
  --gold-2: #e6cf9a; /* lighter gold */
  --shadow: 0 12px 30px rgba(12,18,36,0.06);
  --radius:14px;
}
*{box-sizing:border-box;font-family:Poppins,system-ui,Arial}
body{margin:0;background:var(--bg);color:#071127;-webkit-font-smoothing:antialiased}
.wrap{max-width:980px;margin:20px auto;padding:18px}

/* Header */
.header{display:flex;gap:16px;align-items:center;padding:18px;border-radius:14px;background:linear-gradient(180deg,#fff,#fffbf6);box-shadow:var(--shadow);border:1px solid rgba(184,151,46,0.08)}
.logo{width:178px;height:160px;border-radius:14px;background:linear-gradient(135deg,var(--gold),var(--gold-2));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;text-align: center;font-size:24px}
.hmeta{flex:1}
.hotel-name{font-weight:900;font-size:22px;margin:0;color:#111}
.hotel-sub{color:var(--muted);font-size:13px;margin-top:6px}
.room-badge{background:#0b7ddf;color:#fff;padding:8px 14px;border-radius:12px;font-weight:800}

/* main layout */
.grid{display:grid;grid-template-columns:1fr;gap:16px;margin-top:16px}
@media(min-width:980px){ .grid{grid-template-columns:0.66fr 0.34fr} }
.card{background:var(--card);border-radius:12px;padding:14px;box-shadow:var(--shadow);border:1px solid rgba(0,0,0,0.04)}
.title{font-weight:800;font-size:18px;color:#111}
.muted{color:var(--muted);font-size:13px}

/* WiFi/AC pills */
.info-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:12px}
.pill{background:linear-gradient(180deg,#fff,#fffaf6);padding:12px;border-radius:10px;border:1px solid rgba(184,151,46,0.06);min-width:160px}
.pill .label{font-size:12px;color:var(--muted);margin-bottom:6px}
.pill .value{font-weight:800;color:#222;font-size:15px}

/* home buttons */
.home-buttons{display:flex;gap:12px;justify-content:space-between;margin-top:12px}
.home-btn{flex:1;padding:18px;border-radius:14px;background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;font-weight:800;text-align:center;font-size:18px;text-decoration:none;cursor:pointer;box-shadow:0 10px 24px rgba(184,151,46,0.14)}
.home-btn.small{font-size:16px;padding:14px}

/* menu list */
.menu-list{display:grid;gap:12px;margin-top:12px;grid-template-columns:repeat(auto-fill, minmax(200px,1fr));}
.item{display:flex;gap:12px;align-items:center;padding:10px;border-radius:10px;border:1px solid #f3f3f3;background:#fff}
.item img{width:90px;height:66px;border-radius:8px;object-fit:cover}
.meta{flex:1}
.meta h4{margin:0;font-size:15px;color:#111;font-weight:800}
.price{font-weight:800;color:var(--gold);font-size:15px;margin-top:6px}
.controls{display:flex;gap:8px;align-items:center;margin-top:8px}
.qty{width:68px;padding:8px;border-radius:8px;border:1px solid #e6e8ee;text-align:center}

/* cart */
.cart{position:sticky;top:18px}
.cart h3{margin:0 0 8px 0}
.cart-list{display:flex;flex-direction:column;gap:8px;max-height:360px;overflow:auto;padding-right:6px;margin-top:8px}
.cart-row{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;background:#fff;border:1px solid #f3f3f3}
.qty-controls{display:flex;gap:6px;align-items:center}
.minus,.plus,.remove{background:#f5f5f6;border:none;padding:6px 8px;border-radius:8px;cursor:pointer}
.total-box{margin-top:12px;padding:12px;border-radius:10px;background:linear-gradient(180deg,#fff,#fff);border:1px solid rgba(0,0,0,0.03)}
.place{display:block;text-align:center;background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;padding:12px;border-radius:10px;font-weight:900;text-decoration:none;margin-top:10px}
.clear{display:block;text-align:center;background:#f3f4f6;color:#111;padding:8px;border-radius:8px;margin-top:8px;text-decoration:none}

/* back button for sections */
.back-btn{display:inline-block;padding:8px 12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);background:#fff;color:#111;text-decoration:none;font-weight:700;cursor:pointer}

/* modal */
.modal-back{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;z-index:9999}
.modal{background:#fff;padding:18px;border-radius:12px;max-width:520px;width:92%}
.modal .title{font-weight:800;margin-bottom:8px;color:#111}

/* small helpers */
.hidden{display:none !important}
.small-muted{color:var(--muted);font-size:13px}

/* floating whatsapp */
.wh-fab{position:fixed;right:18px;bottom:18px;background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;padding:12px 14px;border-radius:999px;box-shadow:0 10px 30px rgba(184,151,46,0.18);display:flex;gap:10px;align-items:center;text-decoration:none;font-weight:800}
.wh-icon{background:#fff;border-radius:6px;padding:6px}
@media(max-width:520px){
  .logo{width:72px;height:72px;font-size:20px}
  .home-btn{font-size:16px;padding:14px}
  .item img{width:78px;height:58px}
}
</style>
</head>
<body>
<div class="wrap">

  <!-- header -->
  <div class="header">
    <div class="logo">hotel Rosewood.inn</div>
    <div class="hmeta">
      <div class="hotel-name">HOTEL ROSEWOOD.INN</div>
      <div class="hotel-sub">Fast orders ¬∑ Friendly staff ¬∑ Clean rooms</div>
    </div>
    <div><div id="roomBadge" class="room-badge">Room 101</div></div>
  </div>

  <div class="grid">

    <!-- LEFT column -->
    <div>

      <!-- WiFi & AC -->
      <div class="card" id="topInfo">
        <div class="title">üì∂ Wi-Fi & ‚ùÑ AC</div>
        <div class="muted" style="margin-top:8px">Important info ‚Äî shown first</div>

        <div class="info-row">
          <div class="pill" style="min-width:260px">
            <div class="label">WiFi Name:</div>
            <div class="value" id="wifiSSID" style="color:var(--gold)">Rosewood_Guest_Wifi</div>

            <div class="label" style="margin-top:10px">WiFi Password:</div>
            <div style="display:flex;gap:10px;align-items:center;margin-top:8px">
              <div class="value" id="wifiPass" style="color:var(--gold)">Welcomeinrosewood</div>
              <button id="copyWifi" class="back-btn">Copy</button>
            </div>
          </div>

          <div class="pill" style="min-width:300px">
            <div class="label">AC Guide</div>
            <div style="margin-top:8px;line-height:1.5;color:#111">
              <div>‚Ä¢ Remote: bedside drawer</div>
              <div>‚Ä¢ Mode: <strong>Cool</strong></div>
              <div>‚Ä¢ Recommended temp: <strong>22‚Äì24¬∞C</strong></div>
              <div>‚Ä¢ If not cooling ‚Üí Call staff</div>
            </div>
          </div>

          <div style="min-width:160px;text-align:right">
            <a id="acCall" class="back-btn" href="tel:+919660065518" style="background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;border:none">üìû Call for AC</a>
          </div>
        </div>

        <!-- Services under WiFi/AC as requested -->
        <div style="margin-top:14px">
          <div class="small-muted">Services</div>
          <div style="display:flex;gap:10px;margin-top:8px;flex-wrap:wrap">
            <button class="back-btn" onclick="openService('Room cleaning')">üßπ Room cleaning</button>
            <button class="back-btn" onclick="openService('Extra blanket')">üõè Extra blanket</button>
            <button class="back-btn" onclick="openService('Towel required')">üßº Towel</button>
            <button class="back-btn" onclick="openService('TV remote issue')">üì∫ TV help</button>
          </div>
        </div>
      </div>

      <!-- Home buttons: Food / Water / Drinks -->
      <div id="homeActions" class="card" style="margin-top:14px">
        <div class="title">Choose</div>
        <div class="muted" style="margin-top:8px">Tap one to open ‚Äî others will hide for focus</div>

        <div class="home-buttons" style="margin-top:12px">
          <div class="home-btn" onclick="showSection('food')">üçΩ Food Menu</div>
          <div class="home-btn" onclick="showSection('water')">üíß Water</div>
          <div class="home-btn" onclick="showSection('drinks')">ü•§ Drinks</div>
        </div>
      </div>

      <!-- Sections: Food / Water / Drinks (start hidden) -->
      <div id="foodSection" class="card hidden" style="margin-top:14px">
        <a class="back-btn" onclick="backHome()">‚Üê Back</a>
        <div class="title" style="margin-top:12px">üçΩ Food Menu</div>
        <div class="muted" style="margin-top:6px">tap quantity & Add-- If you order something else plz message to whatsapp</div>
        <div id="menuList" class="menu-list"></div>
      </div>

      <div id="waterSection" class="card hidden" style="margin-top:14px">
        <a class="back-btn" onclick="backHome()">‚Üê Back</a>
        <div class="title" style="margin-top:12px">üíß Water</div>
        <div class="muted" style="margin-top:6px">Choose hot / cold / normal</div>

        <div style="margin-top:12px" class="row">
          <div style="flex:1;min-width:220px">
            <div style="display:flex;gap:8px;align-items:center">
              <select id="waterChoice" style="padding:10px;border-radius:8px;border:1px solid #e6e8ee">
                <option value="Normal">Normal</option>
                <option value="Cold">Cold</option>
                <option value="Hot">Hot</option>
              </select>
              <button class="back-btn" onclick="addWaterSimple()">Add</button>
            </div>
            <div class="small-muted" style="margin-top:8px">Price per bottle: <strong style="color:var(--gold)">‚Çπ20</strong></div>
          </div>
        </div>
      </div>

      <div id="drinksSection" class="card hidden" style="margin-top:14px">
        <a class="back-btn" onclick="backHome()">‚Üê Back</a>
        <div class="title" style="margin-top:12px">ü•§ Drinks</div>
        <div class="muted" style="margin-top:6px">Tap to add quickly- If you order something else plz msg to whatsapp</div>

        <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;grid-template-columns:repeat(auto-fill, minmax(200px,1fr))">
          <button class="back-btn" onclick="addDrinkQuick('Tea',15)"><img src="image/tea.jpg" style="width: 24px; height: 24px; margin-right:6px;">Tea ‚Äî ‚Çπ15</button>
          <button class="back-btn" onclick="addDrinkQuick('Cold Coffee',60)"><img src="image/cold.jpg" style="width: 24px; height: 24px; margin-right:6px;">Cold Coffee ‚Äî ‚Çπ60</button>
          <button class="back-btn" onclick="addDrinkQuick('hot Coffee',60)"><img src="image/hot coffee.jpg" style="width: 24px; height: 24px; margin-right:6px;">hot Coffee ‚Äî ‚Çπ60</button>
          <button class="back-btn" onclick="addDrinkQuick('Coca cola',40)"><img src="image/coca_cola.jpg" style="width: 24px; height: 24px; margin-right:6px;">Coca Cola ‚Äî ‚Çπ40</button>
          <button class="back-btn" onclick="addDrinkQuick('red bull',50)"><img src="image/sprite.jpg" style="width: 24px; height: 24px; margin-right:6px;">Sprite ‚Äî ‚Çπ50</button>
          <button class="back-btn" onclick="addDrinkQuick('red bull',160)"><img src="image/red bull.jpg" style="width: 24px; height: 24px; margin-right:6px;">red bull ‚Äî ‚Çπ160</button>
          <button class="back-btn" onclick="addDrinkQuick('Lemon Soda',60)"><img src="image/lemon_soda.jpg" style="width: 24px; height: 24px; margin-right:6px;"> lemon soda‚Äî ‚Çπ60</button>
          <button class="back-btn" onclick="addDrinkQuick('chocolate milkshake',30)"><img src="image/chocolate_shake.jpg" style="width: 24px; height: 24px; margin-right:6px;"> chocolate milkshake ‚Äî ‚Çπ30</button>
          <button class="back-btn" onclick="addDrinkQuick('mango milkshake',30)"><img src="image/mango.jpg" style="width: 24px; height: 24px; margin-right:6px;"> mango shake ‚Äî ‚Çπ30</button>
          <button class="back-btn" onclick="addDrinkQuick('papaya shake',30)"><img src="image/papaya.jpg" style="width: 24px; height: 24px; margin-right:6px;"> papaya shake ‚Äî ‚Çπ30</button>
          <button class="back-btn" onclick="addDrinkQuick('banana shake',30)"><img src="image/banana.jpg" style="width: 24px; height: 24px; margin-right:6px;"> banana shake ‚Äî ‚Çπ30</button>
          <button class="back-btn" onclick="addDrinkQuick('pineapple shake',30)"><img src="image/pineapple.jpg" style="width: 24px; height: 24px; margin-right:6px;"> pineapple shake ‚Äî ‚Çπ30</button>
          
        </div>
      </div>

      <!-- Reviews -->
      <div class="card" style="margin-top:14px">
        <div class="title">‚≠ê Why Guest Love Staying With Us</div>
        <div class="muted" style="margin-top:8px">Guest Satisfaction -our priority</div>
        <div style="margin-top:12px;color:var(--muted)">
          ‚ÄúSpotlessly Clean Rooms‚Äù<div style="height:8px"></div>
          ‚ÄúFriendly & Quick Services‚Äù<div style="height:8px"></div>
          ‚ÄúComfortable Stay Experience‚Äù<div style="height:8px"></div>
          ‚ÄúValue for money ‚Äù
        </div>
      </div>

    </div>

    <!-- RIGHT column: cart & other services -->
    <div class="cart">
      <div class="card">
        <h3 style="margin:0 0 8px 0">Your Cart</h3>
        <div id="cartList" class="cart-list"><div class="muted">No items yet</div></div>

        <div class="total-box">
          <div style="display:flex;justify-content:space-between"><div class="muted">Food</div><div id="foodTotal">‚Çπ0</div></div>
          <div style="display:flex;justify-content:space-between;margin-top:6px"><div class="muted">Drinks</div><div id="drinkTotal">‚Çπ0</div></div>
          <div style="display:flex;justify-content:space-between;margin-top:6px"><div class="muted">Water</div><div id="waterTotal">‚Çπ0</div></div>
          <hr style="margin:10px 0;border:none;border-top:1px solid #f3f3f6">
          <div style="display:flex;justify-content:space-between;font-weight:900;font-size:18px"><div>Total</div><div id="grandTotal">‚Çπ0</div></div>
        </div>

        <a id="placeOrder" class="place" href="#">üì≤ Place Order on WhatsApp</a>
        <a id="clearCart" class="clear" href="#">Clear Cart</a>

        <div style="margin-top:10px;display:flex;gap:8px">
          <a id="helpCall" class="back-btn" href="tel:+919000010000" style="background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;border:none">üìû Call Staff</a>
          <a id="helpWhats" class="back-btn" href="#" style="background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;border:none">üí¨ WhatsApp</a>
        </div>

        <div style="margin-top:10px" class="muted small">if you have any issue plz call or whatsapp message to staff.</div>
      </div>

      <div class="card" style="margin-top:14px">
        <div class="title">Quick Services</div>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:10px">
          <button class="back-btn" onclick="openService('Room cleaning')">üßπ Room Cleaning</button>
          <button class="back-btn" onclick="openService('Extra blanket')">üõè Extra Blanket</button>
          <button class="back-btn" onclick="openService('Towel required')">üßº Towel</button>
          <button class="back-btn" onclick="openService('TV remote issue')">üì∫ TV Help</button>
        </div>
      </div>
    </div>

  </div>

  <footer style="margin-top:18px;text-align:center;color:var(--muted)">¬© HOTEL ROSEWOOD.INN ‚Ä¢ Made with care</footer>
</div>

<!-- SERVICE MODAL -->
<div id="modalBack" class="modal-back">
  <div class="modal">
    <div class="modal-title title" id="modalTitle"></div>
    <div id="modalBody" style="margin-top:10px;color:#111"></div>
    <div style="margin-top:14px;display:flex;gap:8px;justify-content:flex-end">
      <button onclick="closeServiceModal()" class="back-btn">Cancel</button>
      <button id="modalSend" class="back-btn" style="background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;border:none">Send Request</button>
    </div>
  </div>
</div>

<!-- FAB WhatsApp -->
<a id="fab" class="wh-fab" href="#" onclick="placeOrderFromFab(event)">
  <div class="wh-icon" style="background:#fff;border-radius:6px;padding:6px">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.52 3.48A11.77 11.77 0 0 0 12 .25C6.2.25 1.55 4.9 1.55 10.7c0 1.88.48 3.63 1.38 5.18L.25 23l7.51-2.01a11.77 11.77 0 0 0 4.99 1.07h.01c5.8 0 10.46-4.65 10.46-10.46a7.63 7.63 0 0 0-2.35-5.64z" fill="#b8972e"/></svg>
  </div>
  <span>Order ‚Ä¢ ‚Çπ <span id="fabTotal">0</span></span>
</a>

<script>
/* ===== CONFIG - change later if needed ===== */
const STAFF_PHONE = "+919660065518";    // random staff call
const STAFF_WHATSAPP = "919660065518";  // random whatsapp (no +)
const WIFI_SSID = "Rosewood_Guest_Wifi";
const WIFI_PASS = "Welcomeinrosewood";
const DEFAULT_ROOM = "101";
/* ===== end config ===== */

const MENU = [
  {id:1, title:"Veg Sandwich", price:60,img :  "https://www.bigbasket.com/media/uploads/recipe/w-l/1567_1.jpg"},
  {id:2, title:"Cheese Sandwich", price:80, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYZZE556HZsDqNLrWth_iJAWhAuwtWkMb01g&s"},
  {id:3, title:"Veg Burger", price:50, img:"https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=800&q=60"},
  {id:4, title:"cheese Burger", price:80, img:"image/cheeseburger.jpeg"},
  {id:5, title:"French Fries", price:60, img:"image/french fries.jpeg"},
  {id:6, title:"soya chaap", price:90, img:"image/soya chaap.jpeg"},
  {id:7, title:"masala maggie", price:80, img:"image/masala maggie.jpeg"},
  {id:8, title:"maggie", price:40, img:"image/simplemaggie.jpeg"},
  {id:9, title:"Pizza", price:100, img:"image/pizza.jpg"},
  {id:10, title:"Cheese pizza", price:150, img:"image/cheese piza.jpg"},
  {id:11, title:"Ice Cream Cup", price:50, img:"image/icecreamcup.jpeg"}
];

let cart = {}; // key => {title,price,qty,type}
function $(id){ return document.getElementById(id) }

/* init */
document.addEventListener('DOMContentLoaded', ()=>{
  $('wifiSSID').innerText = WIFI_SSID;
  $('wifiPass').innerText = WIFI_PASS;
  $('acCall').href = 'tel:' + STAFF_PHONE;
  $('helpCall').href = 'tel:' + STAFF_PHONE;
  $('helpWhats').href = 'https://wa.me/' + STAFF_WHATSAPP;
  const room = new URLSearchParams(location.search).get('room') || DEFAULT_ROOM;
  $('roomBadge').innerText = 'Room ' + room;

  $('copyWifi').addEventListener('click', ()=>{ navigator.clipboard.writeText(WIFI_PASS).then(()=>alert('Wi-Fi password copied')) });
  renderMenu();
  refreshCartUI();

  $('placeOrder').addEventListener('click', placeOrder);
  $('clearCart').addEventListener('click', (e)=>{ e.preventDefault(); if(confirm('Clear cart?')){ cart={}; refreshCartUI(); } });
});

/* show a section and hide others */
function showSection(name){
  // hide home actions
  $('homeActions').classList.add('hidden');
  // hide all sections
  ['foodSection','waterSection','drinksSection'].forEach(id=>$(id).classList.add('hidden'));
  if(name==='food') $('foodSection').classList.remove('hidden');
  if(name==='water') $('waterSection').classList.remove('hidden');
  if(name==='drinks') $('drinksSection').classList.remove('hidden');
  // scroll top for better UX
  window.scrollTo({top:0,behavior:'smooth'});
}
function backHome(){
  // show home actions, hide sections
  $('homeActions').classList.remove('hidden');
  ['foodSection','waterSection','drinksSection'].forEach(id=>$(id).classList.add('hidden'));
  window.scrollTo({top:0,behavior:'smooth'});
}

/* render menu */
function renderMenu(){
  const out = $('menuList'); out.innerHTML='';
  MENU.forEach(it=>{
    const div = document.createElement('div'); div.className='item';
    div.innerHTML = `
      <img src="${it.img}" alt="${it.title}">
      <div class="meta">
        <h4>${it.title}</h4>
        <div class="price">‚Çπ${it.price}</div>
        <div class="controls">
          <input id="qty_${it.id}" class="qty" type="number" min="1" placeholder="Qty">
          <button class="back-btn" onclick="addMenu(${it.id})" style="background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#fff;border:none">Add</button>
        </div>
      </div>
    `;
    out.appendChild(div);
  });
}

/* add menu item */
function addMenu(id){
  const item = MENU.find(m=>m.id===id);
  const qEl = $('qty_'+id);
  const qty = parseInt(qEl.value);
  if(!qty || qty<=0){ alert('Enter quantity'); return; }
  const key = 'm'+id;
  if(cart[key]) cart[key].qty += qty;
  else cart[key] = {title:item.title, price:item.price, qty:qty, type:'food'};
  qEl.value = '';
  refreshCartUI();
}

/* add water simple (no size) */
function addWaterSimple(){
  const choice = $('waterChoice').value;
  const key = 'water|'+choice;
  const unit = 20; // price per bottle
  if(cart[key]) cart[key].qty += 1;
  else cart[key] = {title: choice + ' Water', price: unit, qty:1, type:'water'};
  refreshCartUI();
}

/* add quick drink */
function addDrinkQuick(name, price){
  const key = 'drink|'+name.replace(/\s+/g,'');
  if(cart[key]) cart[key].qty += 1;
  else cart[key] = {title:name, price:price, qty:1, type:'drink'};
  refreshCartUI();
}

/* cart UI */
function refreshCartUI(){
  const out = $('cartList'); out.innerHTML='';
  const keys = Object.keys(cart);
  if(keys.length===0){ out.innerHTML = '<div class="muted">No items yet</div>'; updateTotals(0,0,0); return; }
  let foodT=0, drinkT=0, waterT=0;
  keys.forEach(k=>{
    const it = cart[k];
    const row = document.createElement('div'); row.className='cart-row';
    row.innerHTML = `
      <div style="display:flex;gap:10px;align-items:center;flex:1">
        <div style="font-weight:800">${it.title}</div>
        <div class="muted" style="font-size:13px">x ${it.qty}</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <div style="min-width:80px;text-align:right">‚Çπ${it.qty * it.price}</div>
        <div class="qty-controls">
          <button class="minus" onclick="changeQty('${k}', -1)">‚àí</button>
          <button class="plus" onclick="changeQty('${k}', 1)">+</button>
          <button class="remove" onclick="removeItem('${k}')" title="Remove">‚úï</button>
        </div>
      </div>
    `;
    out.appendChild(row);
    if(it.type==='food') foodT += it.qty * it.price;
    if(it.type==='drink') drinkT += it.qty * it.price;
    if(it.type==='water') waterT += it.qty * it.price;
  });
  updateTotals(foodT, drinkT, waterT);
}

/* change qty/remove */
function changeQty(key, delta){
  if(!cart[key]) return;
  cart[key].qty += delta;
  if(cart[key].qty <= 0) delete cart[key];
  refreshCartUI();
}
function removeItem(key){ if(cart[key]) delete cart[key]; refreshCartUI(); }

/* totals */
function updateTotals(food, drink, water){
  $('foodTotal').innerText = '‚Çπ'+food;
  $('drinkTotal').innerText = '‚Çπ'+drink;
  $('waterTotal').innerText = '‚Çπ'+water;
  const total = food+drink+water;
  $('grandTotal').innerText = '‚Çπ'+total;
  $('fabTotal').innerText = total;
}

/* order -> whatsapp */
function placeOrder(e){
  if(e) e.preventDefault();
  const keys = Object.keys(cart);
  if(keys.length===0){ alert('Cart is empty'); return; }
  const room = new URLSearchParams(location.search).get('room') || DEFAULT_ROOM;
  let lines = []; let total=0;
  keys.forEach(k=>{
    const it = cart[k];
    lines.push(`${it.qty} x ${it.title} (‚Çπ${it.price})`);
    total += it.qty * it.price;
  });
  const msg = `Hotel Rosewood.inn\nRoom ${room} Order:\n\n` + lines.join('\n') + `\n\nTotal: ‚Çπ${total}\nPlease deliver to Room ${room}.`;
  window.location.href = 'https://wa.me/' + STAFF_WHATSAPP + '?text=' + encodeURIComponent(msg);
}
function placeOrderFromFab(e){ e.preventDefault(); placeOrder(); }

/* services modal */
let currentService = '';
function openService(name){
  currentService = name;
  $('modalTitle').innerText = name;
  const body = $('modalBody'); body.innerHTML = '';
  if(name==='Extra blanket'){ body.innerHTML = '<div class="muted">How many blankets?</div><div style="margin-top:8px"><input id="svcQty" type="number" min="1" value="1" style="padding:8px;border-radius:8px;border:1px solid #e6e8ee;width:110px"></div>'; }
  else if(name==='Room cleaning'){ body.innerHTML = '<div class="muted">Choose cleaning</div><div style="margin-top:8px"><select id="svcQty" style="padding:8px;border-radius:8px;border:1px solid #e6e8ee"><option>Standard cleaning</option><option>Deep cleaning</option></select></div>'; }
  else if(name==='Towel required'){ body.innerHTML = '<div class="muted">How many towels?</div><div style="margin-top:8px"><input id="svcQty" type="number" min="1" value="1" style="padding:8px;border-radius:8px;border:1px solid #e6e8ee;width:110px"></div>'; }
  else if(name==='TV remote issue'){ body.innerHTML = '<div class="muted">Select issue</div><div style="margin-top:8px"><select id="svcQty" style="padding:8px;border-radius:8px;border:1px solid #e6e8ee"><option>TV not turning on</option><option>No channels</option><option>Remote not working</option></select></div>'; }
  else { body.innerHTML = '<div class="muted">Details</div><textarea id="svcQty" style="width:100%;height:80px;border-radius:8px;border:1px solid #e6e8ee;margin-top:8px"></textarea>'; }
  $('modalBack').style.display='flex';
  $('modalSend').onclick = function(){ sendServiceRequest(); };
}
function closeServiceModal(){ $('modalBack').style.display='none'; }
function sendServiceRequest(){
  const room = new URLSearchParams(location.search).get('room') || DEFAULT_ROOM;
  const val = (document.getElementById('svcQty')||{}).value || '';
  const msg = `Hotel Rosewood.inn\nRoom ${room}: Service Request - ${currentService}.\nDetails: ${val}`;
  window.location.href = 'https://wa.me/' + STAFF_WHATSAPP + '?text=' + encodeURIComponent(msg);
}

/* close modal on outside click */
document.getElementById('modalBack').addEventListener('click', function(e){ if(e.target===this) closeServiceModal(); });

</script>
</body>
</html>

